Grabbing thread from lore.kernel.org/all/20250508150002.689633-1-xiaoyao.li@intel.com/t.mbox.gz
Checking for newer revisions
Grabbing search results from lore.kernel.org
Analyzing 56 messages in the thread
Looking for additional code-review trailers on lore.kernel.org
Analyzing 1174 code-review messages
Checking attestation on all messages, may take a moment...
---
  [32mâœ“[0m [PATCH v9 1/55] *** HACK *** linux-headers: Update headers to pull in TDX API changes
  [32mâœ“[0m [PATCH v9 2/55] i386: Introduce tdx-guest object
  [32mâœ“[0m [PATCH v9 3/55] i386/tdx: Implement tdx_kvm_type() for TDX
  [32mâœ“[0m [PATCH v9 4/55] i386/tdx: Implement tdx_kvm_init() to initialize TDX VM context
  [32mâœ“[0m [PATCH v9 5/55] i386/tdx: Get tdx_capabilities via KVM_TDX_CAPABILITIES
  [32mâœ“[0m [PATCH v9 6/55] i386/tdx: Introduce is_tdx_vm() helper and cache tdx_guest object
  [32mâœ“[0m [PATCH v9 7/55] kvm: Introduce kvm_arch_pre_create_vcpu()
  [32mâœ“[0m [PATCH v9 8/55] i386/tdx: Initialize TDX before creating TD vcpus
  [32mâœ“[0m [PATCH v9 9/55] i386/tdx: Add property sept-ve-disable for tdx-guest object
  [32mâœ“[0m [PATCH v9 10/55] i386/tdx: Make sept_ve_disable set by default
  [32mâœ“[0m [PATCH v9 11/55] i386/tdx: Wire CPU features up with attributes of TD guest
  [32mâœ“[0m [PATCH v9 12/55] i386/tdx: Validate TD attributes
  [32mâœ“[0m [PATCH v9 13/55] i386/tdx: Support user configurable mrconfigid/mrowner/mrownerconfig
  [32mâœ“[0m [PATCH v9 14/55] i386/tdx: Set APIC bus rate to match with what TDX module enforces
  [32mâœ“[0m [PATCH v9 15/55] i386/tdx: Implement user specified tsc frequency
  [32mâœ“[0m [PATCH v9 16/55] i386/tdx: load TDVF for TD guest
  [32mâœ“[0m [PATCH v9 17/55] i386/tdvf: Introduce function to parse TDVF metadata
  [32mâœ“[0m [PATCH v9 18/55] i386/tdx: Parse TDVF metadata for TDX VM
  [32mâœ“[0m [PATCH v9 19/55] i386/tdx: Don't initialize pc.rom for TDX VMs
  [32mâœ“[0m [PATCH v9 20/55] i386/tdx: Track mem_ptr for each firmware entry of TDVF
  [32mâœ“[0m [PATCH v9 21/55] i386/tdx: Track RAM entries for TDX VM
  [32mâœ“[0m [PATCH v9 22/55] headers: Add definitions from UEFI spec for volumes, resources, etc...
  [32mâœ“[0m [PATCH v9 23/55] i386/tdx: Setup the TD HOB list
  [32mâœ“[0m [PATCH v9 24/55] i386/tdx: Add TDVF memory via KVM_TDX_INIT_MEM_REGION
  [32mâœ“[0m [PATCH v9 25/55] i386/tdx: Call KVM_TDX_INIT_VCPU to initialize TDX vcpu
  [32mâœ“[0m [PATCH v9 26/55] i386/tdx: Finalize TDX VM
  [32mâœ“[0m [PATCH v9 27/55] i386/tdx: Enable user exit on KVM_HC_MAP_GPA_RANGE
  [32mâœ“[0m [PATCH v9 28/55] i386/tdx: Handle KVM_SYSTEM_EVENT_TDX_FATAL
  [32mâœ“[0m [PATCH v9 29/55] i386/tdx: Wire TDX_REPORT_FATAL_ERROR with GuestPanic facility
  [32mâœ“[0m [PATCH v9 30/55] kvm: Check KVM_CAP_MAX_VCPUS at vm level
  [32mâœ“[0m [PATCH v9 31/55] i386/cpu: introduce x86_confidential_guest_cpu_instance_init()
  [32mâœ“[0m [PATCH v9 32/55] i386/tdx: implement tdx_cpu_instance_init()
  [32mâœ“[0m [PATCH v9 33/55] i386/cpu: Introduce enable_cpuid_0x1f to force exposing CPUID 0x1f
  [32mâœ“[0m [PATCH v9 34/55] i386/tdx: Force exposing CPUID 0x1f
  [32mâœ“[0m [PATCH v9 35/55] i386/tdx: Set kvm_readonly_mem_enabled to false for TDX VM
  [32mâœ“[0m [PATCH v9 36/55] i386/tdx: Disable SMM for TDX VMs
  [32mâœ“[0m [PATCH v9 37/55] i386/tdx: Disable PIC for TDX VMs
  [32mâœ“[0m [PATCH v9 38/55] i386/tdx: Set and check kernel_irqchip mode for TDX
  [32mâœ“[0m [PATCH v9 39/55] i386/tdx: Don't synchronize guest tsc for TDs
  [32mâœ“[0m [PATCH v9 40/55] i386/tdx: Only configure MSR_IA32_UCODE_REV in kvm_init_msrs() for TDs
  [32mâœ“[0m [PATCH v9 41/55] i386/apic: Skip kvm_apic_put() for TDX
  [32mâœ“[0m [PATCH v9 42/55] cpu: Don't set vcpu_dirty when guest_state_protected
  [32mâœ“[0m [PATCH v9 43/55] i386/cgs: Rename *mask_cpuid_features() to *adjust_cpuid_features()
  [32mâœ“[0m [PATCH v9 44/55] i386/tdx: Implement adjust_cpuid_features() for TDX
  [32mâœ“[0m [PATCH v9 45/55] i386/tdx: Add TDX fixed1 bits to supported CPUIDs
  [32mâœ“[0m [PATCH v9 46/55] i386/tdx: Add supported CPUID bits related to TD Attributes
  [32mâœ“[0m [PATCH v9 47/55] i386/tdx: Add supported CPUID bits relates to XFAM
  [32mâœ“[0m [PATCH v9 48/55] i386/tdx: Add XFD to supported bit of TDX
  [32mâœ“[0m [PATCH v9 49/55] i386/tdx: Define supported KVM features for TDX
  [32mâœ“[0m [PATCH v9 50/55] i386/cgs: Introduce x86_confidential_guest_check_features()
  [32mâœ“[0m [PATCH v9 51/55] i386/tdx: Fetch and validate CPUID of TD guest
  [32mâœ“[0m [PATCH v9 52/55] i386/tdx: Don't treat SYSCALL as unavailable
  [32mâœ“[0m [PATCH v9 53/55] i386/tdx: Make invtsc default on
  [32mâœ“[0m [PATCH v9 54/55] i386/tdx: Validate phys_bits against host value
  [32mâœ“[0m [PATCH v9 55/55] docs: Add TDX documentation
  ---
  [32mâœ“[0m Signed: DKIM/intel.com
---
Total patches: 55
---
 Base: using specified base-commit 7c949c53e936aa3a658d84ab53bae5cadaa5d59c
Applying: *** HACK *** linux-headers: Update headers to pull in TDX API changes
Applying: i386: Introduce tdx-guest object
Applying: i386/tdx: Implement tdx_kvm_type() for TDX
Applying: i386/tdx: Implement tdx_kvm_init() to initialize TDX VM context
Applying: i386/tdx: Get tdx_capabilities via KVM_TDX_CAPABILITIES
Applying: i386/tdx: Introduce is_tdx_vm() helper and cache tdx_guest object
Applying: kvm: Introduce kvm_arch_pre_create_vcpu()
Applying: i386/tdx: Initialize TDX before creating TD vcpus
Applying: i386/tdx: Add property sept-ve-disable for tdx-guest object
Applying: i386/tdx: Make sept_ve_disable set by default
Applying: i386/tdx: Wire CPU features up with attributes of TD guest
Applying: i386/tdx: Validate TD attributes
Applying: i386/tdx: Support user configurable mrconfigid/mrowner/mrownerconfig
Applying: i386/tdx: Set APIC bus rate to match with what TDX module enforces
Applying: i386/tdx: Implement user specified tsc frequency
Applying: i386/tdx: load TDVF for TD guest
Applying: i386/tdvf: Introduce function to parse TDVF metadata
Applying: i386/tdx: Parse TDVF metadata for TDX VM
Applying: i386/tdx: Don't initialize pc.rom for TDX VMs
Applying: i386/tdx: Track mem_ptr for each firmware entry of TDVF
Applying: i386/tdx: Track RAM entries for TDX VM
Applying: headers: Add definitions from UEFI spec for volumes, resources, etc...
Applying: i386/tdx: Setup the TD HOB list
Applying: i386/tdx: Add TDVF memory via KVM_TDX_INIT_MEM_REGION
Applying: i386/tdx: Call KVM_TDX_INIT_VCPU to initialize TDX vcpu
Applying: i386/tdx: Finalize TDX VM
Applying: i386/tdx: Enable user exit on KVM_HC_MAP_GPA_RANGE
Applying: i386/tdx: Handle KVM_SYSTEM_EVENT_TDX_FATAL
Applying: i386/tdx: Wire TDX_REPORT_FATAL_ERROR with GuestPanic facility
Applying: kvm: Check KVM_CAP_MAX_VCPUS at vm level
Applying: i386/cpu: introduce x86_confidential_guest_cpu_instance_init()
Patch failed at 0031 i386/cpu: introduce x86_confidential_guest_cpu_instance_init()
error: patch failed: target/i386/cpu.c:36
error: target/i386/cpu.c: patch does not apply
hint: Use 'git am --show-current-patch=diff' to see the failed patch
hint: When you have resolved this problem, run "git am --continue".
hint: If you prefer to skip this patch, run "git am --skip" instead.
hint: To restore the original branch and stop patching, run "git am --abort".
hint: Disable this message with "git config set advice.mergeConflict false"
